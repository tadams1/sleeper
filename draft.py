
# -*- coding: utf-8 -*-
import json
import pandas as pd
from pandas.io.json import json_normalize

from flask import Flask

app = Flask(__name__)

@app.route('/')
def hello_world():
	json_string = '[{"type":"snake","status":"complete","start_time":1566726780000,"sport":"nfl","settings":{"teams":4,"slots_wr":3,"slots_te":2,"slots_super_flex":1,"slots_rb":3,"slots_qb":2,"slots_flex":2,"slots_def":1,"slots_bn":8,"rounds":24,"player_type":0,"pick_timer":60,"cpu_autopick":1,"alpha_sort":0},"season_type":"regular","season":"2019","metadata":{"scoring_type":"dynasty","name":"Dynasty","description":""},"league_id":"471237557296820224","last_picked":1566728606783,"last_message_time":1566728606859,"last_message_id":"471297572451905536","draft_order":{"466816403391901696":4,"466181495111806976":1,"465431267769315328":3,"436876366495870976":2},"draft_id":"471237560434159616","creators":["466181495111806976"],"created":1566714298871}]'
	league_string2 = '[{"user_id":"436876366495870976","settings":null,"metadata":{"user_message_pn":"on","transaction_waiver":"on","transaction_trade":"on","transaction_free_agent":"on","transaction_commissioner":"on","team_name_update":"on","team_name":"Johnson and Johnson","player_nickname_update":"on","mention_pn":"on","mascot_message_leg_2":"","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_1":"idle_nervous","mascot_message":"on","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"MarkyJ","avatar":"56954d15232c82270bc35562afa6db5f"},{"user_id":"465431267769315328","settings":null,"metadata":{"team_name":"Never Fournette","mention_pn":"on","mascot_message_leg_5":"Dude.  Do you even lift?","mascot_message_leg_4":"","mascot_message_leg_2":"","mascot_message_leg_14":"Smoked","mascot_message_leg_11":"","mascot_message_leg_1":"","mascot_message_emotion_leg_5":"idle","mascot_message_emotion_leg_4":"idle","mascot_message_emotion_leg_14":"idle","mascot_message_emotion_leg_13":"idle_happy","mascot_message_emotion_leg_11":"idle","mascot_message_emotion_leg_1":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"MSorrenson","avatar":"9cf0ba07b858634478ff0edec78d0412"},{"user_id":"466181495111806976","settings":null,"metadata":{"mention_pn":"on","mascot_message_leg_5":"","mascot_message_leg_3":"","mascot_message_leg_2":"Smoked","mascot_message_leg_14":"","mascot_message_leg_11":"It’s been a long time between drinks - was just wondering if you still knew how to spell it","mascot_message_emotion_leg_3":"idle","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_11":"idle","mascot_item_type_id_leg_9":"","mascot_item_type_id_leg_8":"","mascot_item_type_id_leg_7":"","mascot_item_type_id_leg_6":"","mascot_item_type_id_leg_5":"","mascot_item_type_id_leg_4":"","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","mascot_item_type_id_leg_12":"","mascot_item_type_id_leg_11":"","mascot_item_type_id_leg_10":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":true,"is_bot":false,"display_name":"skzm","avatar":null},{"user_id":"466816403391901696","settings":null,"metadata":{"team_name":"Kamara shy","mention_pn":"on","mascot_message_leg_4":"SNAP!","mascot_message_leg_3":"If I cut a loud fart you will short circuit","mascot_message_leg_2":"All season mofo","mascot_message_leg_1":"I must break you","mascot_message_emotion_leg_7":"idle","mascot_message_emotion_leg_5":"idle","mascot_message_emotion_leg_4":"action_hurt01","mascot_message_emotion_leg_3":"idle","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_1":"idle","mascot_item_type_id_leg_9":"","mascot_item_type_id_leg_8":"","mascot_item_type_id_leg_7":"","mascot_item_type_id_leg_6":"","mascot_item_type_id_leg_5":"","mascot_item_type_id_leg_4":"","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_2":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","mascot_item_type_id_leg_12":"","mascot_item_type_id_leg_11":"","mascot_item_type_id_leg_10":"","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"AKamara41","avatar":"55d84a9842931cd39b70ed61cda09c06"}]'
	league_string = '[{"user_id":"465431267769315328","settings":null,"metadata":{"team_name":"Wagile Warriors","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":true,"is_bot":false,"display_name":"MSorrenson","avatar":"9cf0ba07b858634478ff0edec78d0412"},{"user_id":"465431560896638976","settings":null,"metadata":{"team_name":"Coogee Krakens","mention_pn":"on","mascot_message_leg_1":"","mascot_message_emotion_leg_9":"action_hurt02","mascot_message_emotion_leg_7":"action_hurt01","mascot_message_emotion_leg_6":"action_hurt02","mascot_message_emotion_leg_5":"idle_happy","mascot_message_emotion_leg_4":"action_hurt02","mascot_message_emotion_leg_15":"action_joy01","mascot_message_emotion_leg_14":"action_hurt02","mascot_message_emotion_leg_12":"idle_sad","mascot_item_type_id_leg_9":"burning-man","mascot_item_type_id_leg_8":"burning-man","mascot_item_type_id_leg_7":"burning-man","mascot_item_type_id_leg_6":"burning-man","mascot_item_type_id_leg_5":"burning-man","mascot_item_type_id_leg_4":"burning-man","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_2":"","mascot_item_type_id_leg_17":"burning-man","mascot_item_type_id_leg_16":"burning-man","mascot_item_type_id_leg_15":"burning-man","mascot_item_type_id_leg_14":"burning-man","mascot_item_type_id_leg_13":"burning-man","mascot_item_type_id_leg_12":"burning-man","mascot_item_type_id_leg_11":"burning-man","mascot_item_type_id_leg_10":"burning-man","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"oldmate","avatar":"9915729d1b773f4fd41a679075e09a57"},{"user_id":"466563918567829504","settings":null,"metadata":{"user_message_pn":"on","transaction_waiver":"on","transaction_trade":"on","transaction_free_agent":"on","transaction_commissioner":"on","team_name_update":"on","team_name":"Kinjas","player_nickname_update":"on","mention_pn":"on","mascot_message":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Aramaius","avatar":"6f925123e8c7894bf1cddb0e21a9ae71"},{"user_id":"466784261861535744","settings":null,"metadata":{"team_name":"Aussie Battlers","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Winniepoo","avatar":"1fe089e517448d9fe207b8607ca8e81b"},{"user_id":"467859351210553344","settings":null,"metadata":{"mention_pn":"on","mascot_message_leg_1":"I’m 1 player down, think u can beat me?","mascot_message_emotion_leg_1":"idle_happy","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"DanCochrane03","avatar":"a7edf17a1956ebe79017732156625301"},{"user_id":"467872708747587584","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Touchdownunders","avatar":"4d46b7d568cc71d4819293c612731196"},{"user_id":"467966980222087168","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"TheFishSlappers","avatar":"d52d946ad32fdf3bd3bff8468e8cf5ae"},{"user_id":"469095803772727296","settings":null,"metadata":{"mention_pn":"on","mascot_message_emotion_leg_10":"idle_happy","mascot_item_type_id_leg_17":"celly","mascot_item_type_id_leg_16":"celly","mascot_item_type_id_leg_15":"celly","mascot_item_type_id_leg_14":"celly","mascot_item_type_id_leg_13":"celly","mascot_item_type_id_leg_12":"celly","mascot_item_type_id_leg_11":"celly","mascot_item_type_id_leg_10":"celly","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"SaquonsGiants","avatar":"7fb450a5b9acf255a2a563067dcd7bbe"},{"user_id":"471873185118154752","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Runitstraight","avatar":"8b9624bef6a7bf12eae3389bb2de985b"},{"user_id":"472672283542941696","settings":null,"metadata":{"team_name":"Spartans","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Sagquatius","avatar":"4504012f02d0e04aced33e35bac84c9f"}]'
	with open("1.txt", "r") as read_file:
	    data = json.load(read_file)

	with open("2.txt", "r") as read_file:
	    player = json.load(read_file)

	with open("3.txt", "r") as read_file:
	    stats = json.load(read_file)

	df = pd.DataFrame.from_dict(stats).transpose() 
	league = json_normalize(json.loads(league_string2))	
	#df1 = df.sort_values('pts_ppr', ascending=False).head(1).join(player, on='player_id')

	draft_df = pd.DataFrame.from_dict(data)
	league_df = pd.DataFrame.from_dict(league)
	player_df = pd.DataFrame.from_dict(player).transpose()
	stats_df = pd.DataFrame.from_dict(stats).transpose()
	draft_summary = pd.merge(draft_df, league_df, how='left', left_on='picked_by', right_on='user_id')[['round', 'display_name', 'player_id']]
	draft_summary1 = pd.merge(player_df, stats_df, how='left', left_on='player_id', right_index=True)[['player_id', 'full_name', 'pts_ppr', 'position']]
	print(draft_summary1.groupby('position')['pts_ppr'])
	draft_summary1['overall_position_rank'] = draft_summary1.groupby('position')['pts_ppr'].rank(ascending=False)
	draft_summary1['overall_position_average'] = draft_summary1.groupby('position')['pts_ppr'].mean()
	draft_summary1['overall_rank'] = draft_summary1['pts_ppr'].rank(ascending=False)
	draft_summary3 = pd.merge(draft_summary, draft_summary1, how='left', left_on='player_id', right_on='player_id')[['round', 'display_name', 'player_id', 'full_name','pts_ppr',  'position', 'overall_position_rank', 'overall_rank']]

	draft_summary3['draft_position_rank'] = draft_summary3.groupby('position')['pts_ppr'].rank(ascending=False)
	draft_summary3['draft_position_average'] = draft_summary3.groupby('position')['pts_ppr'].mean()
	draft_summary3['draft_rank'] = draft_summary3['pts_ppr'].rank(ascending=False)

	#for x in data:
	#	print x['metadata']['last_name']
	#	print stats['4881']

	league = json.loads(league_string)
	#for g in league:
	#	print(g['display_name'])

	draft = json.loads(json_string)
	return draft_summary3.to_html(header="true", table_id="table")

@app.route('/hate')
def lovehatelove():
	json_string = '[{"type":"snake","status":"complete","start_time":1566726780000,"sport":"nfl","settings":{"teams":4,"slots_wr":3,"slots_te":2,"slots_super_flex":1,"slots_rb":3,"slots_qb":2,"slots_flex":2,"slots_def":1,"slots_bn":8,"rounds":24,"player_type":0,"pick_timer":60,"cpu_autopick":1,"alpha_sort":0},"season_type":"regular","season":"2019","metadata":{"scoring_type":"dynasty","name":"Dynasty","description":""},"league_id":"471237557296820224","last_picked":1566728606783,"last_message_time":1566728606859,"last_message_id":"471297572451905536","draft_order":{"466816403391901696":4,"466181495111806976":1,"465431267769315328":3,"436876366495870976":2},"draft_id":"471237560434159616","creators":["466181495111806976"],"created":1566714298871}]'
	league_string2 = '[{"user_id":"436876366495870976","settings":null,"metadata":{"user_message_pn":"on","transaction_waiver":"on","transaction_trade":"on","transaction_free_agent":"on","transaction_commissioner":"on","team_name_update":"on","team_name":"Johnson and Johnson","player_nickname_update":"on","mention_pn":"on","mascot_message_leg_2":"","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_1":"idle_nervous","mascot_message":"on","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"MarkyJ","avatar":"56954d15232c82270bc35562afa6db5f"},{"user_id":"465431267769315328","settings":null,"metadata":{"team_name":"Never Fournette","mention_pn":"on","mascot_message_leg_5":"Dude.  Do you even lift?","mascot_message_leg_4":"","mascot_message_leg_2":"","mascot_message_leg_14":"Smoked","mascot_message_leg_11":"","mascot_message_leg_1":"","mascot_message_emotion_leg_5":"idle","mascot_message_emotion_leg_4":"idle","mascot_message_emotion_leg_14":"idle","mascot_message_emotion_leg_13":"idle_happy","mascot_message_emotion_leg_11":"idle","mascot_message_emotion_leg_1":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"MSorrenson","avatar":"9cf0ba07b858634478ff0edec78d0412"},{"user_id":"466181495111806976","settings":null,"metadata":{"mention_pn":"on","mascot_message_leg_5":"","mascot_message_leg_3":"","mascot_message_leg_2":"Smoked","mascot_message_leg_14":"","mascot_message_leg_11":"It’s been a long time between drinks - was just wondering if you still knew how to spell it","mascot_message_emotion_leg_3":"idle","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_11":"idle","mascot_item_type_id_leg_9":"","mascot_item_type_id_leg_8":"","mascot_item_type_id_leg_7":"","mascot_item_type_id_leg_6":"","mascot_item_type_id_leg_5":"","mascot_item_type_id_leg_4":"","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","mascot_item_type_id_leg_12":"","mascot_item_type_id_leg_11":"","mascot_item_type_id_leg_10":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":true,"is_bot":false,"display_name":"skzm","avatar":null},{"user_id":"466816403391901696","settings":null,"metadata":{"team_name":"Kamara shy","mention_pn":"on","mascot_message_leg_4":"SNAP!","mascot_message_leg_3":"If I cut a loud fart you will short circuit","mascot_message_leg_2":"All season mofo","mascot_message_leg_1":"I must break you","mascot_message_emotion_leg_7":"idle","mascot_message_emotion_leg_5":"idle","mascot_message_emotion_leg_4":"action_hurt01","mascot_message_emotion_leg_3":"idle","mascot_message_emotion_leg_2":"idle","mascot_message_emotion_leg_1":"idle","mascot_item_type_id_leg_9":"","mascot_item_type_id_leg_8":"","mascot_item_type_id_leg_7":"","mascot_item_type_id_leg_6":"","mascot_item_type_id_leg_5":"","mascot_item_type_id_leg_4":"","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_2":"","mascot_item_type_id_leg_17":"","mascot_item_type_id_leg_16":"","mascot_item_type_id_leg_15":"","mascot_item_type_id_leg_14":"","mascot_item_type_id_leg_13":"","mascot_item_type_id_leg_12":"","mascot_item_type_id_leg_11":"","mascot_item_type_id_leg_10":"","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"471237557296820224","is_owner":null,"is_bot":false,"display_name":"AKamara41","avatar":"55d84a9842931cd39b70ed61cda09c06"}]'
	league_string = '[{"user_id":"465431267769315328","settings":null,"metadata":{"team_name":"Wagile Warriors","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":true,"is_bot":false,"display_name":"MSorrenson","avatar":"9cf0ba07b858634478ff0edec78d0412"},{"user_id":"465431560896638976","settings":null,"metadata":{"team_name":"Coogee Krakens","mention_pn":"on","mascot_message_leg_1":"","mascot_message_emotion_leg_9":"action_hurt02","mascot_message_emotion_leg_7":"action_hurt01","mascot_message_emotion_leg_6":"action_hurt02","mascot_message_emotion_leg_5":"idle_happy","mascot_message_emotion_leg_4":"action_hurt02","mascot_message_emotion_leg_15":"action_joy01","mascot_message_emotion_leg_14":"action_hurt02","mascot_message_emotion_leg_12":"idle_sad","mascot_item_type_id_leg_9":"burning-man","mascot_item_type_id_leg_8":"burning-man","mascot_item_type_id_leg_7":"burning-man","mascot_item_type_id_leg_6":"burning-man","mascot_item_type_id_leg_5":"burning-man","mascot_item_type_id_leg_4":"burning-man","mascot_item_type_id_leg_3":"","mascot_item_type_id_leg_2":"","mascot_item_type_id_leg_17":"burning-man","mascot_item_type_id_leg_16":"burning-man","mascot_item_type_id_leg_15":"burning-man","mascot_item_type_id_leg_14":"burning-man","mascot_item_type_id_leg_13":"burning-man","mascot_item_type_id_leg_12":"burning-man","mascot_item_type_id_leg_11":"burning-man","mascot_item_type_id_leg_10":"burning-man","mascot_item_type_id_leg_1":"","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"oldmate","avatar":"9915729d1b773f4fd41a679075e09a57"},{"user_id":"466563918567829504","settings":null,"metadata":{"user_message_pn":"on","transaction_waiver":"on","transaction_trade":"on","transaction_free_agent":"on","transaction_commissioner":"on","team_name_update":"on","team_name":"Kinjas","player_nickname_update":"on","mention_pn":"on","mascot_message":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Aramaius","avatar":"6f925123e8c7894bf1cddb0e21a9ae71"},{"user_id":"466784261861535744","settings":null,"metadata":{"team_name":"Aussie Battlers","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Winniepoo","avatar":"1fe089e517448d9fe207b8607ca8e81b"},{"user_id":"467859351210553344","settings":null,"metadata":{"mention_pn":"on","mascot_message_leg_1":"I’m 1 player down, think u can beat me?","mascot_message_emotion_leg_1":"idle_happy","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"DanCochrane03","avatar":"a7edf17a1956ebe79017732156625301"},{"user_id":"467872708747587584","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Touchdownunders","avatar":"4d46b7d568cc71d4819293c612731196"},{"user_id":"467966980222087168","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"TheFishSlappers","avatar":"d52d946ad32fdf3bd3bff8468e8cf5ae"},{"user_id":"469095803772727296","settings":null,"metadata":{"mention_pn":"on","mascot_message_emotion_leg_10":"idle_happy","mascot_item_type_id_leg_17":"celly","mascot_item_type_id_leg_16":"celly","mascot_item_type_id_leg_15":"celly","mascot_item_type_id_leg_14":"celly","mascot_item_type_id_leg_13":"celly","mascot_item_type_id_leg_12":"celly","mascot_item_type_id_leg_11":"celly","mascot_item_type_id_leg_10":"celly","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"SaquonsGiants","avatar":"7fb450a5b9acf255a2a563067dcd7bbe"},{"user_id":"471873185118154752","settings":null,"metadata":{"mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Runitstraight","avatar":"8b9624bef6a7bf12eae3389bb2de985b"},{"user_id":"472672283542941696","settings":null,"metadata":{"team_name":"Spartans","mention_pn":"on","allow_pn":"on"},"league_id":"467862054720499712","is_owner":null,"is_bot":false,"display_name":"Sagquatius","avatar":"4504012f02d0e04aced33e35bac84c9f"}]'
	with open("1.txt", "r") as read_file:
	    data = json.load(read_file)

	with open("2.txt", "r") as read_file:
	    player = json.load(read_file)

	with open("3.txt", "r") as read_file:
	    stats = json.load(read_file)

	df = pd.DataFrame.from_dict(stats).transpose() 
	league = json_normalize(json.loads(league_string2))	
	#df1 = df.sort_values('pts_ppr', ascending=False).head(1).join(player, on='player_id')

	draft_df = pd.DataFrame.from_dict(data)
	league_df = pd.DataFrame.from_dict(league)
	player_df = pd.DataFrame.from_dict(player).transpose()
	stats_df = pd.DataFrame.from_dict(stats).transpose()
	draft_summary = pd.merge(draft_df, league_df, how='left', left_on='picked_by', right_on='user_id')[['round', 'display_name', 'player_id']]
	draft_summary1 = pd.merge(player_df, stats_df, how='left', left_on='player_id', right_index=True)[['player_id', 'full_name', 'pts_ppr', 'position']]
	print(draft_summary1.groupby('position')['pts_ppr'])
	draft_summary1['overall_position_rank'] = draft_summary1.groupby('position')['pts_ppr'].rank(ascending=False)
	draft_summary1['overall_position_average'] = draft_summary1.groupby('position')['pts_ppr'].mean()
	draft_summary1['overall_rank'] = draft_summary1['pts_ppr'].rank(ascending=False)
	draft_summary3 = pd.merge(draft_summary, draft_summary1, how='left', left_on='player_id', right_on='player_id')[['round', 'display_name', 'player_id', 'full_name','pts_ppr',  'position', 'overall_position_rank', 'overall_rank']]

	draft_summary3['draft_position_rank'] = draft_summary3.groupby('position')['pts_ppr'].rank(ascending=False)
	draft_summary3['draft_position_average'] = draft_summary3.groupby('position')['pts_ppr'].mean()
	draft_summary3['draft_rank'] = draft_summary3['pts_ppr'].rank(ascending=False)

	#for x in data:
	#	print x['metadata']['last_name']
	#	print stats['4881']

	league = json.loads(league_string)
	#for g in league:
	#	print(g['display_name'])

	draft = json.loads(json_string)
	return draft_summary3.to_html(header="true", table_id="table")

if __name__ == '__main__':
    app.run(host='0.0.0.0', debug=True)
    #hello_world()
